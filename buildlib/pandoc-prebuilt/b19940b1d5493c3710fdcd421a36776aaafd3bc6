.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "EFADV_QUERY_MR" "3" "2023-11-13" "efa" "EFA Direct Verbs Manual"
.hy
.SH NAME
.PP
efadv_query_mr - Query EFA specific Memory Region attributes
.SH SYNOPSIS
.IP
.nf
\f[C]
#include <infiniband/efadv.h>

int efadv_query_mr(struct ibv_mr *ibvmr, struct efadv_mr_attr *attr, uint32_t inlen);
\f[R]
.fi
.SH DESCRIPTION
.PP
\f[B]efadv_query_mr()\f[R] queries device-specific Memory Region
attributes.
.PP
Compatibility is handled using the comp_mask and inlen fields.
.IP
.nf
\f[C]
struct efadv_mr_attr {
    uint64_t comp_mask;
    uint16_t ic_id_validity;
    uint16_t recv_ic_id;
    uint16_t rdma_read_ic_id;
    uint16_t rdma_recv_ic_id;
};
\f[R]
.fi
.TP
\f[I]inlen\f[R]
In: Size of struct efadv_mr_attr.
.TP
\f[I]comp_mask\f[R]
Compatibility mask.
.TP
\f[I]ic_id_validity\f[R]
Validity mask of interconnect id fields:
.RS
.PP
EFADV_MR_ATTR_VALIDITY_RECV_IC_ID: recv_ic_id has a valid value.
.PP
EFADV_MR_ATTR_VALIDITY_RDMA_READ_IC_ID: rdma_read_ic_id has a valid
value.
.PP
EFADV_MR_ATTR_VALIDITY_RDMA_RECV_IC_ID: rdma_recv_ic_id has a valid
value.
.RE
.TP
\f[I]recv_ic_id\f[R]
Physical interconnect used by the device to reach the MR for receive
operation.
.TP
\f[I]rdma_read_ic_id\f[R]
Physical interconnect used by the device to reach the MR for RDMA read
operation.
.TP
\f[I]rdma_recv_ic_id\f[R]
Physical interconnect used by the device to reach the MR for RDMA write
receive.
.SH RETURN VALUE
.PP
\f[B]efadv_query_mr()\f[R] returns 0 on success, or the value of errno
on failure (which indicates the failure reason).
.SH SEE ALSO
.PP
\f[B]efadv\f[R](7)
.SH NOTES
.IP \[bu] 2
Compatibility mask (comp_mask) is an out field and currently has no
values.
.SH AUTHORS
.PP
Michael Margolin <mrgolin@amazon.com>
